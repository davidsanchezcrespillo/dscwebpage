{% macro render_main_menu() -%}
{% for menu_item in menu -%}
    <li class="btn">
    <a {% if menu_item.url == resource.url %}class="selected"{% endif %} href="{{ content_url(menu_item.url) }}">{{ menu_item.title }}</a>
    </li>
{%- endfor %}
{%- endmacro %}

{% macro render_social_links() -%}
{% for social_item in social -%}
<li>
<a href="{{ social_item.url }}" title="{{ social_item.title }}">
<img src="{{ media_url(social_item.image) }}" title="{{ social_item.title }}"  alt="{{ social_item.title }}" height="32" width="32" />
</a>
</li>
{%- endfor %}
{%- endmacro %}

{% macro render_tags(resroot) %}
{% set cloud = [] %}
{% for res in resroot.node.walk_resources_sorted_by_time() %}
{% if res.meta.tags %}
{% for tag in res.meta.tags %}
{% if not tag in cloud %}
{% do cloud.append(tag) %}
{% endif %}
{% endfor %}
{% endif %}
{% endfor %}

<ul class="cloud">
{% for word in cloud %}
<li>
<a class="small" href="{{ content_url('tags/'~word~'.html') }}">
{{ word }}
</a>
</li>
{% endfor %}
</ul>

{% endmacro %}

{% macro render_excerpt(res, class=None) %}
{% refer to res.url as post %}
<article {{'class='~class if class }}>
<h3 class="excerpttitle"><a href="{{ content_url(res.url) }}">{{ res.meta.title }}</a></h3>
<a href="{{ content_url(res.url) }}">{{ post.image|markdown|typogrify }}</a>
<time datetime="{{ res.meta.created.strftime('%Y-%m-%d') }}">
    {{ res.meta.created.strftime('%a, %d %b %Y') }}
</time>
<div class="excerpt">
{{ post.excerpt|markdown|typogrify }}
</div>
</article>
{% endmacro %}

{% macro render_keywords(res) %}
{% if res.meta.keywords %}
<meta name="keywords" content="{{ res.meta.keywords }}" />
{% endif %}
{% endmacro %}


